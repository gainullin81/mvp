# Fixer MVP - Flutter Frontend

Flutter MVP приложение для управления товарами и продажами с использованием сканера QR/2D кодов.

## Функции

- **Аутентификация** - Вход в систему с выбором роли (Продавец, Поставщик, Директор)
- **Сканер товаров** - Сканирование QR/2D штрих-кодов товаров
- **Информация о товаре** - Отображение детальной информации о товаре
- **Продажи** - Отправка продаж на сервер
- **История продаж** - Просмотр списка проданных товаров
- **Уведомления** - Уведомления о пополнении/списании товаров

## Технологии

- **Flutter** - UI фреймворк
- **Provider** - Управление состоянием
- **Dio** - HTTP клиент для API запросов
- **qr_code_scanner** - Сканер QR/2D кодов

## Структура проекта

```
lib/
├── main.dart                 # Точка входа приложения
├── providers/
│   ├── auth_provider.dart    # Провайдер аутентификации
│   └── sales_provider.dart   # Провайдер продаж
└── screens/
    ├── login_screen.dart     # Экран входа
    ├── main_menu_screen.dart # Главное меню
    ├── scan_screen.dart      # Экран сканера
    ├── product_info_screen.dart # Информация о товаре
    ├── sales_history_screen.dart # История продаж
    └── notifications_screen.dart # Уведомления
```

## Установка и запуск

1. **Установите Flutter SDK** (версия 3.4.1 или выше)

2. **Клонируйте репозиторий**
   ```bash
   git clone <repository-url>
   cd mvp/frontend
   ```

3. **Установите зависимости**
   ```bash
   flutter pub get
   ```

4. **Запустите приложение**
   ```bash
   flutter run
   ```

## Настройка

### Backend API
Убедитесь, что NestJS backend запущен на `http://localhost:3000`

### Разрешения для камеры
Для работы сканера QR-кодов необходимо добавить разрешения:

**Android** (`android/app/src/main/AndroidManifest.xml`):
```xml
<uses-permission android:name="android.permission.CAMERA" />
```

**iOS** (`ios/Runner/Info.plist`):
```xml
<key>NSCameraUsageDescription</key>
<string>Приложению необходим доступ к камере для сканирования QR-кодов</string>
```

## Использование

1. **Вход в систему**
   - Введите email и пароль
   - Выберите роль пользователя
   - Нажмите "Войти"

2. **Главное меню**
   - **Сканер товаров** - для сканирования QR-кодов
   - **История продаж** - просмотр продаж
   - **Уведомления** - просмотр уведомлений
   - **Отчеты** - (в разработке)

3. **Сканирование товара**
   - Наведите камеру на QR-код товара
   - Автоматический переход к информации о товаре

4. **Продажа товара**
   - Введите количество товара
   - Нажмите "Продать"
   - Продажа отправляется на сервер

## API Endpoints

Приложение использует следующие API endpoints:

- `POST /auth/login` - Аутентификация
- `GET /products/{id}` - Получение информации о товаре
- `POST /orders` - Создание продажи
- `GET /orders` - Получение истории продаж
- `GET /notifications` - Получение уведомлений

## Разработка

### Добавление новых экранов
1. Создайте новый файл в папке `screens/`
2. Добавьте навигацию в `main_menu_screen.dart`
3. Обновите импорты

### Добавление новых провайдеров
1. Создайте новый файл в папке `providers/`
2. Добавьте в `main.dart` в `MultiProvider`
3. Используйте `Provider.of<YourProvider>(context)` для доступа

## Лицензия

MIT License
